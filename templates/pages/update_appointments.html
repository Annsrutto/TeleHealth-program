{% extends 'pages/base.html' %}
{% load static %}
{% block title %} Update Appointments {% endblock %}

{% block content%}
    <!-- Appointment Section -->
    <section id="appointment" class="appointment section light-background">

        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
          <h2>BOOK AN APPOINTMENT</h2>
          <p>Book a convenient time to connect with our dedicated team of healthcare professionals, who are ready to provide personalized care and support.</p>
        </div><!-- End Section Title -->
  
        <div class="container" data-aos="fade-up" data-aos-delay="100">
  
          <form action="" method="post" role="form" class="">
            {% csrf_token %}
            <div class="row">
              <div class="col-md-4 form-group">
                <label for="name" class="form-label">Name</label>
                <input type="text" name="name" class="form-control" id="name" value="{{ appointment.name }}" placeholder="Your Name" required="">
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" name="email" id="email" value="{{ appointment.email }}" placeholder="Your Email" required="">
              </div>
              <div class="col-md-4 form-group mt-3 mt-md-0">
                <label for="phone" class="form-label">Phone Number</label>
                <input type="tel" class="form-control" name="phone" id="phone"  value="{{ appointment.phone }}"placeholder="Your Phone" required="">
              </div>
            </div>
            <div class="row">
              <div class="col-md-4 form-group mt-3">
                <label for="date" class="form-label">Date</label>
                <input type="date" name="date" class="form-control datepicker" id="date" value="{{ appointment.date }}" placeholder="Appointment Date" required="">
              </div>
              <div class="col-md-4 form-group mt-3">
                <label for="department" class="form-label">Department</label>
                <select name="department" id="department" class="form-select" required="">
                  <option value="">Select Department</option>
                  <option value="Department 1 {% if appointment.department == 'General Consultation' %} selected {% endif %} ">General Consultation</option>
                  <option value="Department 2 {% if appointment.department == 'Pediatrics' %} selected {% endif %}">Pediatrics</option>
                  <option value="Department 3 {% if appointment.department == 'Dermatology' %} selected {% endif %}">Dermatology</option>
                </select>
              </div>
              <div class="col-md-4 form-group mt-3">
                <label for="doctor" class="form-label">Doctor</label>
                <select name="doctor" id="doctor" class="form-select" required="">
                  <option value="">Select Doctor</option>
                  <option value="Doctor 1 {% if appointment.doctor == 'Dr.Anns Rutto' %} selected {% endif %}">Dr. Anns Rutto</option>
                  <option value="Doctor 2 {% if appointment.doctor == 'Dr. Herner Ngugi' %} selected {% endif %}">Dr. Herner Ngugi</option>
                  <option value="Doctor 3 {% if appointment.doctor == 'Dr. Valentine Maiyo' %} selected {% endif %}">Dr. Valentine Maiyo</option>
                </select>
              </div>
            </div>
  
            <div class="form-group mt-3">
              <label for="message" class="form-label">Message</label>
              <textarea class="form-control" name="message" rows="5" placeholder="Message (Optional)">{{ appointment.message }}</textarea>
            </div>
            <div class="mt-3">
              <!-- <div class="loading">Loading</div> -->
              <div class="error-message"></div>
              <div class="sent-message">Your appointment request has been sent successfully. Thank you!</div>
              <div class="text-center"><button type="submit">Make an Appointment</button></div>
            </div>
          </form>
  
        </div>
  
      </section><!-- /Appointment Section -->
  

{% endblock %}
